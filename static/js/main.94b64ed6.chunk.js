(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{134:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(22),c=a.n(r),o=(a(85),a(55),a(36)),i=a(30),s=a(9),u=a(10),m=a(12),h=a(11),d=a(13),p=a(138),g=a(141),E=a(135),f=a(71),b=function(e){return l.a.createElement(p.a.Group,null,l.a.createElement(p.a.Label,null,e.label),l.a.createElement(p.a.Control,{type:e.type,value:e.value,onChange:e.change}),""!==e.text&&l.a.createElement(p.a.Text,{className:"text-muted"},e.text))},v=function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("h1",null,"Thammasat Blockchain Academic Credential"),l.a.createElement("h4",null,"How to apply for putting your diploma to Blockchain"),l.a.createElement(p.a,{onSubmit:e.submit,className:"col-md-5",autoComplete:"off"},""!==e.invalidText&&l.a.createElement(g.a,{variant:"danger"},e.invalidText),e.fetching&&l.a.createElement(E.a,{animation:"border",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading...")),l.a.createElement(b,{label:"Student name",type:"text",text:"Your student name must contain only letters and must not contain spaces. (Example: Phurinat Puekkham)",value:e.studentName,change:e.studentNameChange}),l.a.createElement(b,{label:"Student ID",type:"text",text:"Your student id number must be 10 characters long, contain only numbers and must not contain spaces.",value:e.studentId,change:e.studentIdChange}),l.a.createElement(f.a,{variant:"primary",type:"submit",className:"w-100",disabled:e.fetching},"Submit")))},k=a(139),y=a(136),S=a(142),j=a(20),O=(a(64),function(){return l.a.createElement(k.a,{collapseOnSelect:!0,expand:"lg",className:"navbar-header mb-5"},l.a.createElement(y.a,null,l.a.createElement(j.LinkContainer,{to:"/blockchain-project"},l.a.createElement(k.a.Brand,{className:"navbar-logo p-0 m-0"},l.a.createElement("img",{src:"http://www.tu.ac.th/uploads/main-logo.svg",width:"75%",alt:""}))),l.a.createElement(k.a.Toggle,{"aria-controls":"responsive-navbar-nav",className:"toggle-button p-0"}),l.a.createElement(k.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(S.a,{className:"ml-auto text-center link"},l.a.createElement(j.LinkContainer,{to:"/blockchain-project"},l.a.createElement(S.a.Link,null,"HOME")),l.a.createElement(j.LinkContainer,{to:"/blockchain-project/about"},l.a.createElement(S.a.Link,null,"ABOUT"))))))}),x=a(8),I=a.n(x),C=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={studentName:"",studentId:"",requestInvalidText:"",fetching:!1},a.handleStudentNameChange=function(e){a.setState({studentName:e.target.value})},a.handleStudentIdChange=function(e){a.setState({studentId:e.target.value})},a.handleRequestSubmit=function(e){e.preventDefault(),a.setState({fetching:!0}),I.a.post("https://tu-issuer.herokuapp.com/recipient",{name:a.state.studentName,id:a.state.studentId}).then(function(e){var t=e.data;a.setState({fetching:!1}),t.key0?"success"===t.status&&(a.setState({requestInvalidText:""}),localStorage.setItem("key0",t.key0),localStorage.setItem("identity",a.state.studentId),a.props.history.push("/blockchain-project/add")):"invalid_name"===t?a.setState({requestInvalidText:"Student name must contain only English characters"}):"invalid_id"===t?a.setState({requestInvalidText:"Student ID must contain only number"}):"id_length"===t?a.setState({requestInvalidText:"Student ID must consisting of 10 digits"}):"invalid_name_id"===t&&a.setState({requestInvalidText:"Student name and Student ID are invalid"})}).catch(function(e){console.log(e)})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(O,null),l.a.createElement(v,{studentName:this.state.studentName,studentId:this.state.studentId,studentNameChange:this.handleStudentNameChange,studentIdChange:this.handleStudentIdChange,submit:this.handleRequestSubmit,invalidText:this.state.requestInvalidText,fetching:this.state.fetching}))}}]),t}(n.Component),N=a(140),w=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(k.a,{collapseOnSelect:!0,expand:"lg",className:"navbar-header mb-3"},l.a.createElement(y.a,null,l.a.createElement(j.LinkContainer,{to:"/blockchain-project/add"},l.a.createElement(k.a.Brand,{className:"navbar-logo p-0 m-0"},l.a.createElement("img",{src:"http://www.tu.ac.th/uploads/main-logo.svg",width:"75%",alt:""}))),l.a.createElement(k.a.Toggle,{"aria-controls":"responsive-navbar-nav",className:"toggle-button p-0"}),l.a.createElement(k.a.Collapse,{id:"responsive-navbar-nav"},l.a.createElement(S.a,{className:"ml-auto text-center link"},l.a.createElement(j.LinkContainer,{to:"/blockchain-project/add"},l.a.createElement(S.a.Link,null,"ADD ISSUER")),l.a.createElement(j.LinkContainer,{to:"/blockchain-project/request"},l.a.createElement(S.a.Link,null,"REQUEST")),l.a.createElement(j.LinkContainer,{to:"/blockchain-project/request_list"},l.a.createElement(S.a.Link,null,"REQUEST LIST")),l.a.createElement(N.a,{title:"PROFILE",id:"collasible-nav-dropdown"},l.a.createElement(j.LinkContainer,{to:"/blockchain-project/profile"},l.a.createElement(N.a.Item,{href:"#action/3.3"},"Your Profile")),l.a.createElement(N.a.Divider,null),l.a.createElement(j.LinkContainer,{to:"/blockchain-project/logout"},l.a.createElement(N.a.Item,null,"Log out")))))))}}]),t}(n.Component),L=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={diploma:!1,transcript:!1,alertMessage:"",fetching:!1},a.diplomaChangeHandler=function(e){a.setState({diploma:e.target.checked})},a.transcriptChangeHandler=function(e){a.setState({transcript:e.target.checked})},a.onSubmitHandler=function(e){e.preventDefault(),a.setState({fetching:!0}),I.a.post("https://tu-issuer.herokuapp.com/recipient/credential",{id:localStorage.getItem("identity"),diploma:a.state.diploma,transcript:a.state.transcript}).then(function(e){var t=e.data;"success"===t?a.setState({diploma:!1,transcript:!1,alertMessage:"",fetching:!1}):"empty_credential"===t?a.setState({alertMessage:"Please select diploma or transcript before submit",fetching:!1}):"empty_id"===t||"invalid_id"===t||"id_length"===t?a.setState({alertMessage:"invalid identity",fetching:!1}):"invalid_type"===t?a.setState({alertMessage:"invalid diploma and transcript type",fetching:!1}):"limit"===t&&a.setState({alertMessage:"Your request limit",fetching:!1})}).catch(function(e){console.log(e)})},a.componentDidMount=function(){I.a.post("https://tu-issuer.herokuapp.com/recipient/session",{key:localStorage.getItem("key0")}).then(function(e){"unauthorized"===e.data&&a.props.history.push("/blockchain-project")}).catch(function(e){console.log(e)})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(w,null),l.a.createElement("div",null,l.a.createElement("h2",null,"Request"),l.a.createElement(p.a,{onSubmit:this.onSubmitHandler},l.a.createElement("h5",null,"Which credentials you want ?"),""!==this.state.alertMessage&&l.a.createElement(g.a,{variant:"danger"},this.state.alertMessage),this.state.fetching&&l.a.createElement(E.a,{animation:"border",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading...")),l.a.createElement(p.a.Group,{controlId:"formBasicChecbox"},l.a.createElement(p.a.Check,{type:"checkbox",label:"Diploma",onChange:this.diplomaChangeHandler,checked:this.state.diploma})),l.a.createElement(p.a.Group,{controlId:"formBasicChecbox"},l.a.createElement(p.a.Check,{type:"checkbox",label:"Transcript",onChange:this.transcriptChangeHandler,checked:this.state.transcript})),l.a.createElement(f.a,{variant:"primary",type:"submit",disabled:this.state.fetching},"Submit"))))}}]),t}(n.Component),T=a(137),M=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={credential:[],fetching:!1},a.deleteHandler=function(e){I.a.delete("https://tu-issuer.herokuapp.com/recipient/credential/".concat(e)).then(function(t){"success"===t.data&&a.setState({credential:a.state.credential.filter(function(t){return t.id!==e})})}).catch(function(e){console.log(e)})},a.componentDidMount=function(){a.setState({fetching:!0});var e=localStorage.getItem("identity");I.a.get("https://tu-issuer.herokuapp.com/recipient/credential/".concat(e)).then(function(e){"object"===typeof e.data&&a.setState({credential:e.data,fetching:!1})}).catch(function(e){console.log(e)})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(l.a.Fragment,null,l.a.createElement(T.a,{striped:!0,bordered:!0,hover:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"No."),l.a.createElement("th",null,"Diploma"),l.a.createElement("th",null,"Transcript"),l.a.createElement("th",null,"Requested Time"),l.a.createElement("th",null,"Delete"))),l.a.createElement("tbody",null,this.state.credential.length>0&&this.state.credential.map(function(t,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,++a),l.a.createElement("td",null,t.diploma),l.a.createElement("td",null,t.transcript),l.a.createElement("td",null,t.created_time),l.a.createElement("td",null,l.a.createElement(f.a,{variant:"danger",onClick:function(){return e.deleteHandler(t.id)}},"Delete")))}))),this.state.fetching&&l.a.createElement("div",{className:"text-center mt-4"},l.a.createElement(E.a,{animation:"border",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading..."))))}}]),t}(n.Component),D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).componentDidMount=function(){I.a.post("https://tu-issuer.herokuapp.com/recipient/session",{key:localStorage.getItem("key0")}).then(function(e){"unauthorized"===e.data&&a.props.history.push("/blockchain-project")}).catch(function(e){console.log(e)})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(w,null),l.a.createElement("h3",{className:"text-center mb-5"},"Request List"),l.a.createElement(M,null))}}]),t}(n.Component),_=a(78),H=a.n(_),q=a(79),A=a.n(q),B=function(e){var t=localStorage.getItem("identity");return l.a.createElement("div",{className:"col-md-7 mx-auto text-center"},l.a.createElement("h6",null,"Please first download the Blockcerts wallet from the link"),l.a.createElement("p",null,"For IOS: ",l.a.createElement("a",{href:"https://itunes.apple.com/us/app/blockcerts-wallet/id1146921514?mt=8",target:"_blank",rel:"noopener noreferrer"},l.a.createElement("u",null,"https://itunes.apple.com/us/app/blockcerts-wallet/id1146921514?mt=8"))),l.a.createElement("p",null,"For Android: ",l.a.createElement("a",{href:"https://play.google.com/store/apps/details?id=com.learningmachine.android.app&hl=en",target:"_blank",rel:"noopener noreferrer"},l.a.createElement("u",null,"https://play.google.com/store/apps/details?id=com.learningmachine.android.app&hl=en"))),l.a.createElement("h6",null,"Install it on your phone or computer."),l.a.createElement("h6",null,"Once you have your Blockcerts wallet on your phone, Go to add issuer"),l.a.createElement("div",{className:"bg-light py-4 px-3 m-4"},l.a.createElement("p",null,"Enter the URL: ",l.a.createElement("strong",null,"https://tu-issuer.herokuapp.com/issuer-profile")),l.a.createElement("p",null,"Enter the one-time-code: ",l.a.createElement("strong",null,function(e){var t=["A","B","C","x","y","z","k","M","N","R"];return"number"===typeof e&&(e+=""),e.split("").map(function(e){return t[e]}).join("")}(t)))),l.a.createElement("h6",null,"After that you can see issuer in your issuer screen"),l.a.createElement("br",null),l.a.createElement("img",{src:A.a,alt:"",width:"200px",className:"instruction_img mx-4"}),l.a.createElement("img",{src:H.a,alt:"",width:"200px",className:"instruction_img mx-4"}))},F=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(m.a)(this,Object(h.a)(t).call(this,e))).emailChangeHandle=function(e){a.setState({email:e.target.value})},a.submitHandle=function(e){e.preventDefault(),a.setState({fetching:!0});var t=localStorage.getItem("identity");t&&I.a.post("https://tu-issuer.herokuapp.com/recipient/email",{email:a.state.email,identity:t}).then(function(e){"success"===e.data?(a.setState({alertMessage:"",fetching:!1}),a.props.email()):a.setState({alertMessage:"Failed",fetching:!1})}).catch(function(e){console.log(e)})},a.componentDidMount=function(){var e=localStorage.getItem("identity");e&&I.a.get("https://tu-issuer.herokuapp.com/recipient/".concat(e)).then(function(e){e.data&&a.setState({email:e.data})}).catch(function(e){console.log(e)})},a.state={email:"",alertMessage:"",fetching:!1},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(p.a,{onSubmit:this.submitHandle,className:"col-md-5 mx-auto",autoComplete:"off"},""!==this.state.alertMessage&&l.a.createElement(g.a,{variant:"danger"},this.state.alertMessage),this.state.fetching&&l.a.createElement(E.a,{animation:"border",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading...")),l.a.createElement(b,{label:"Student Email",type:"email",text:"",value:this.state.email,change:this.emailChangeHandle,disabled:this.state.fetching}),l.a.createElement(f.a,{variant:"primary",type:"submit",className:"w-100",disabled:this.state.fetching},this.props.buttonText))}}]),t}(n.Component),R=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={isGiveEmail:!1,fetching:!1},a.isGiveEmailHandle=function(){a.setState({isGiveEmail:!0})},a.componentDidMount=function(){a.setState({fetching:!0}),I.a.post("https://tu-issuer.herokuapp.com/recipient/session",{key:localStorage.getItem("key0")}).then(function(e){if("unauthorized"===e.data)a.props.history.push("/blockchain-project");else{var t=localStorage.getItem("identity");I.a.get("https://tu-issuer.herokuapp.com/recipient/".concat(t)).then(function(e){console.log(e),e.data?a.setState({isGiveEmail:!0,fetching:!1}):a.setState({isGiveEmail:!1,fetching:!1})}).catch(function(e){console.log(e)})}}).catch(function(e){console.log(e)})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(w,null),l.a.createElement("div",{className:"mb-5"},this.state.fetching?l.a.createElement("div",{className:"text-center mt-5"},l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(E.a,{animation:"border",role:"status"},l.a.createElement("span",{className:"sr-only"},"Loading..."))):l.a.createElement(l.a.Fragment,null,l.a.createElement("h3",{className:"text-center"},"Add Issuer"),this.state.isGiveEmail?l.a.createElement(B,null):l.a.createElement("div",{className:"text-center"},l.a.createElement("h5",null,"You have to provide an email before add issuer"),l.a.createElement(F,{email:this.isGiveEmailHandle,buttonText:"Submit"})))))}}]),t}(n.Component),G=function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(O,null),l.a.createElement("div",null,l.a.createElement("h1",null,"About Page")))},P=function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Path doesn't exist !!"))},U=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).emailHandle=function(){},a.componentDidMount=function(){I.a.post("https://tu-issuer.herokuapp.com/recipient/session",{key:localStorage.getItem("key0")}).then(function(e){"unauthorized"===e.data?a.props.history.push("/blockchain-project"):localStorage.getItem("identity")||a.props.history.push("/blockchain-project/logout")}).catch(function(e){console.log(e)})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement(w,null),l.a.createElement("div",null,l.a.createElement("h2",{className:"text-center"},"Your Profile"),l.a.createElement(F,{email:this.emailHandle,buttonText:"Update"})))}}]),t}(n.Component),Y=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(m.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).componentDidMount=function(){I.a.post("https://tu-issuer.herokuapp.com/recipient/logout",{key:localStorage.getItem("key0")}).then(function(e){"success"===e.data?(localStorage.removeItem("key0"),a.props.history.push("/blockchain-project/")):a.props.history.goBack()}).catch(function(e){console.log(e)})},a}return Object(d.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null)}}]),t}(n.Component),z=function(e){return l.a.createElement(y.a,null,e.children)};var W=function(){return l.a.createElement(o.BrowserRouter,null,l.a.createElement(z,null,l.a.createElement(i.g,null,l.a.createElement(i.d,{path:"/blockchain-project",component:C,exact:!0}),l.a.createElement(i.d,{path:"/blockchain-project/add",component:R}),l.a.createElement(i.d,{path:"/blockchain-project/request",component:L}),l.a.createElement(i.d,{path:"/blockchain-project/about",component:G}),l.a.createElement(i.d,{path:"/blockchain-project/profile",component:U}),l.a.createElement(i.d,{path:"/blockchain-project/request_list",component:D}),l.a.createElement(i.d,{path:"/blockchain-project/logout",component:Y}),l.a.createElement(i.d,{component:P}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(W,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},55:function(e,t,a){},64:function(e,t,a){},78:function(e,t,a){e.exports=a.p+"static/media/blockcerts_issuers.2bd7b3b9.jpg"},79:function(e,t,a){e.exports=a.p+"static/media/blockcerts_add_issuer.74630459.jpg"},80:function(e,t,a){e.exports=a(134)},85:function(e,t,a){}},[[80,1,2]]]);
//# sourceMappingURL=main.94b64ed6.chunk.js.map